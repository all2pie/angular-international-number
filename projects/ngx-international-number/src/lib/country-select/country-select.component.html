<div class="country-select">
  <div class="country-select-btn" (click)="showList = !showList">
    <span *ngIf="selectedCountry">{{ selectedCountry?.flag }}</span>
    <span *ngIf="!selectedCountry" class="placeholder-flag"></span>
    <span class="arrow" [ngClass]="{ 'arrow-up': showList }"></span>
  </div>

  <div class="dropdown" *ngIf="showList">
    <input
      type="search"
      class="search"
      autocomplete="off"
      placeholder="Search Country"
      [ngModel]="search"
      (ngModelChange)="filterCountries($event)"
      autofocus
    />
    <ul class="countries-list">
      <li
        *ngFor="let country of countries; let i = index"
        (click)="setCountry(country.countryCode, country)"
        [tabindex]="i + 1"
      >
        <span class="flag">{{ country.flag }}</span>
        <span>{{ country.countryNameEn }} </span>
        <span
          class="local-name"
          *ngIf="
            country.countryNameLocal &&
            country.countryNameEn !== country.countryNameLocal
          "
        >
          ({{ country.countryNameLocal }})</span
        >
      </li>
    </ul>
  </div>

  <ng-content></ng-content>
</div>
